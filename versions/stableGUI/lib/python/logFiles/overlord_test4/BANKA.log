ZMQJSONProxy.py:: Player rx a QUIT...
ZMQJSONProxy.py:: Player rx a QUIT...
New mode specified and/or bandwidth specified!
set_mode(FLAG_CALCORR_MODE): Creating new BeamformerBackend
ConfigFE: Adding flagr2-1
ConfigFE: Adding flagr2-2
ConfigFE: Adding flagr2-3
ConfigFE: Adding flagr2-4
ConfigFE: Adding flagr2-5

ConfigFE: *** Configuring flagr2-1 ***
ConfigFE: Setting FID as 0...
ConfigFE: Resetting the GbE cores...
ConfigFE: Configuring 10 GbE interfaces...
ConfigFE: Writing fid...
ConfigFE: Writing xid...
ConfigFE: Writing destination port as: 60000
ConfigFE: Writing destination IP addrs...
ConfigFE: Packet stop enabled

ConfigFE: *** Configuring flagr2-2 ***
ConfigFE: Setting FID as 1...
ConfigFE: Resetting the GbE cores...
ConfigFE: Configuring 10 GbE interfaces...
ConfigFE: Writing fid...
ConfigFE: Writing xid...
ConfigFE: Writing destination port as: 60000
ConfigFE: Writing destination IP addrs...
ConfigFE: Packet stop enabled

ConfigFE: *** Configuring flagr2-3 ***
ConfigFE: Setting FID as 2...
ConfigFE: Resetting the GbE cores...
ConfigFE: Configuring 10 GbE interfaces...
ConfigFE: Writing fid...
ConfigFE: Writing xid...
ConfigFE: Writing destination port as: 60000
ConfigFE: Writing destination IP addrs...
ConfigFE: Packet stop enabled

ConfigFE: *** Configuring flagr2-4 ***
ConfigFE: Setting FID as 3...
ConfigFE: Resetting the GbE cores...
ConfigFE: Configuring 10 GbE interfaces...
ConfigFE: Writing fid...
ConfigFE: Writing xid...
ConfigFE: Writing destination port as: 60000
ConfigFE: Writing destination IP addrs...
ConfigFE: Packet stop enabled

ConfigFE: *** Configuring flagr2-5 ***
ConfigFE: Setting FID as 4...
ConfigFE: Resetting the GbE cores...
ConfigFE: Configuring 10 GbE interfaces...
ConfigFE: Writing fid...
ConfigFE: Writing xid...
ConfigFE: Writing destination port as: 60000
ConfigFE: Writing destination IP addrs...
ConfigFE: Packet stop enabled
BFBE: Backend():: Setting self.frequency to 1500.0

BFBE: FlagPole:: Initializing shmem...
BFBE: FlagPole:: instance_id=0
BFBE: FlagPole:: status_key=40194300
BFBE: FlagPole:: status_semid: users_mruzinda_hashpipe_status_0
hashpipe -p flag_x -I 0 -o BINDHOST=10.17.16.200 -o BINDPORT=60000 -o XID=0 -o GPUDEV=0 -o DATADIR=/lustre/flag/ -o PROJID=TMP -o MODENAME=FLAG_CALCORR_MODE -o COVMODE=PAF_CAL -c 0 flag_net_thread -c 1 flag_transpose_thread -c 2 flag_correlator_thread
HASH: Initing  thread 'flag_net_thread' with databufs 0 and 1
HASH: Initing  thread 'flag_transpose_thread' with databufs 1 and 2
HASH: Initing  thread 'flag_correlator_thread' with databufs 2 and 3
HASH: starting thread 'flag_correlator_thread' with databufs 2 and 3
HASH: Clearning input buffer for flag_correlator_thread ...
HASH: Clearning output buffer for flag_correlator_thread ...
HASH: Making call to flag_correlator_thread ...
Found device 0: GeForce GTX 980 Ti
Found device 1: GeForce GTX 980 Ti
Using device 0: GeForce GTX 980 Ti
HASH: starting thread 'flag_transpose_thread' with databufs 1 and 2
HASH: Clearning input buffer for flag_transpose_thread ...
HASH: Clearning output buffer for flag_transpose_thread ...
HASH: Making call to flag_transpose_thread ...
HASH: starting thread 'flag_net_thread' with databufs 0 and 1
HASH: Clearning output buffer for flag_net_thread ...
HASH: Making call to flag_net_thread ...
NET: Starting Thread!!!
BFBE: Command to fits writer >> /home/groups/flag/dibas/exec/x86_64-linux/bfFitsWriter -i 0 -m c
set_mode(FLAG_CALCORR_MODE): beginning wait for DAQ program
RUNNING PAF MODE
/tmp/fits_fifo_mruzinda_0
Using FITS Control FIFO: /tmp/fits_fifo_mruzinda_0
bfFitsWrite started
set_mode(FLAG_CALCORR_MODE): wait for DAQ program ended.
Current mode is FLAG_CALCORR_MODE
BFBE: TSTAMP  2018_05_15_22:45:16
BFBE: Writing CHANSEL=0
BFBE: Weight file name unchanged.
BFBE:  2018-05-15 22:45:10.563568 2018-05-15 22:45:16
BFBE: Sleeping for 4.472387 seconds...Net: Ending scan after mcnt = 911250
NET: Moving back to ACQUIRE!

Start observations
BfFitsThread::run, instance_id = 0
HPC[22:45:10]:shmget key: 40194300
HPC[22:45:10]:vegas_status_attach sem_open w/ /users_mruzinda_hashpipe_status_0
HPC[22:45:10]:bf_databuf shmget key: 80194300
HPC[22:45:10]:Setting bank name to A
status_buf: INSTANCE=                    0                                                  BANKNAM = 'A       '                                                            BINDHOST= '10.17.16.200'                                                        BINDPORT=                60000                                                  XID     = '0       '                                                            GPUDEV  =                    0                                                  DATADIR = '/lustre/flag/'                                                       PROJID  = 'TMP     '                                                            MODENAME= 'FLAG_CALCORR_MODE'                                                   COVMODE = 'PAF_CAL '                                                            NETSTAT = 'ACQUIRE '                                                            TRASTAT = 'init    '                                                            CORSTAT = 'init    '                                                            INTSTAT = 'start   '                                                            INTSYNC =                    0                                                  REQSTI  = '0.5     '                                                            ACTSTI  =             0.000000                                                  INTCOUNT=                    1                                                  CORREADY=                    1                                                  TRAREADY=                    1                                                  NETREADY=                    T                                                  MISSEDFE=                    0                                                  MISSEDPK=                    0                                                  CLEANA  =                    T                                                  CLEANB  =                    T                                                  NETMCNT =                    0                                                  STRTDMJD= '58253.9481019'                                                       SCANLEN = '60      '                                                            TSTAMP  = '2018_05_15_22:45:16'                                                 WFLAG   = '0       '                                                            BWEIFILE= ''                                                                    CHANSEL = '0       '                                                            MASTRCMD= 'START   '                                                            DISKSTAT= 'Init    '                                                            END                                                                                                                                                             
HPC[22:45:10]:NCHAN not set in status memory
HPC[22:45:10]:FITS: Received TSTAMP = 2018_05_15_22:45:16
HPC[22:45:10]:FITS: Filename: /lustre/flag//TMP/BF/2018_05_15_22:45:16A.fits
HPC[22:45:10]:Opening file: /lustre/flag//TMP/BF/2018_05_15_22:45:16A.fits
HPC[22:45:10]:/lustre/flag//TMP/BF/2018_05_15_22:45:16A.fits
fitsio opened
SCANLEN: 60
BFBE: Arming Roaches...
BFPBE: Sending sync pule to flagr2-1
BFPBE: Sending sync pule to flagr2-2
BFPBE: Sending sync pule to flagr2-3
BFPBE: Sending sync pule to flagr2-4
BFPBE: Sending sync pule to flagr2-5
TRA: WARNING!!!!!!!!! - Time = 10.246000 ms
TRA: WARNING!!!!!!!!! - Time = 16.881001 ms
TRA: WARNING!!!!!!!!! - Time = 12.233000 ms
TRA: WARNING!!!!!!!!! - Time = 11.123000 ms
NET: Bad Block! mcnt = 2200, 925/1000
TRA: WARNING!!!!!!!!! - Time = 11.138000 ms
NET: Bad Block! mcnt = 3800, 918/1000
mcnt: 0, good_data = 0
mcnt: 7600, good_data = 1
mcnt: 15200, good_data = 1
mcnt: 22800, good_data = 1
mcnt: 30400, good_data = 1
mcnt: 38000, good_data = 1
mcnt: 45600, good_data = 1
mcnt: 53200, good_data = 1
mcnt: 60800, good_data = 1
mcnt: 68400, good_data = 1
mcnt: 76000, good_data = 1
mcnt: 83600, good_data = 1
mcnt: 91200, good_data = 1
mcnt: 98800, good_data = 1
mcnt: 106400, good_data = 1
mcnt: 114000, good_data = 1
mcnt: 121600, good_data = 1
mcnt: 129200, good_data = 1
mcnt: 136800, good_data = 1
mcnt: 144400, good_data = 1
mcnt: 152000, good_data = 1
mcnt: 159600, good_data = 1
mcnt: 167200, good_data = 1
mcnt: 174800, good_data = 1
mcnt: 182400, good_data = 1
mcnt: 190000, good_data = 1
mcnt: 197600, good_data = 1
mcnt: 205200, good_data = 1
mcnt: 212800, good_data = 1
mcnt: 220400, good_data = 1
mcnt: 228000, good_data = 1
mcnt: 235600, good_data = 1
mcnt: 243200, good_data = 1
mcnt: 250800, good_data = 1
mcnt: 258400, good_data = 1
mcnt: 266000, good_data = 1
mcnt: 273600, good_data = 1
mcnt: 281200, good_data = 1
mcnt: 288800, good_data = 1
mcnt: 296400, good_data = 1
mcnt: 304000, good_data = 1
mcnt: 311600, good_data = 1
mcnt: 319200, good_data = 1
mcnt: 326800, good_data = 1
mcnt: 334400, good_data = 1
mcnt: 342000, good_data = 1
mcnt: 349600, good_data = 1
mcnt: 357200, good_data = 1
mcnt: 364800, good_data = 1
mcnt: 372400, good_data = 1
mcnt: 380000, good_data = 1
mcnt: 387600, good_data = 1
mcnt: 395200, good_data = 1
mcnt: 402800, good_data = 1
mcnt: 410400, good_data = 1
mcnt: 418000, good_data = 1
mcnt: 425600, good_data = 1
mcnt: 433200, good_data = 1
mcnt: 440800, good_data = 1
mcnt: 448400, good_data = 1
mcnt: 456000, good_data = 1
mcnt: 463600, good_data = 1
mcnt: 471200, good_data = 1
mcnt: 478800, good_data = 1
mcnt: 486400, good_data = 1
mcnt: 494000, good_data = 1
mcnt: 501600, good_data = 1
mcnt: 509200, good_data = 1
mcnt: 516800, good_data = 1
mcnt: 524400, good_data = 1
mcnt: 532000, good_data = 1
mcnt: 539600, good_data = 1
mcnt: 547200, good_data = 1
mcnt: 554800, good_data = 1
mcnt: 562400, good_data = 1
mcnt: 570000, good_data = 1
mcnt: 577600, good_data = 1
mcnt: 585200, good_data = 1
mcnt: 592800, good_data = 1
mcnt: 600400, good_data = 1
mcnt: 608000, good_data = 1
mcnt: 615600, good_data = 1
mcnt: 623200, good_data = 1
mcnt: 630800, good_data = 1
mcnt: 638400, good_data = 1
mcnt: 646000, good_data = 1
mcnt: 653600, good_data = 1
mcnt: 661200, good_data = 1
mcnt: 668800, good_data = 1
mcnt: 676400, good_data = 1
mcnt: 684000, good_data = 1
mcnt: 691600, good_data = 1
mcnt: 699200, good_data = 1
mcnt: 706800, good_data = 1
mcnt: 714400, good_data = 1
mcnt: 722000, good_data = 1
mcnt: 729600, good_data = 1
mcnt: 737200, good_data = 1
mcnt: 744800, good_data = 1
mcnt: 752400, good_data = 1
mcnt: 760000, good_data = 1
mcnt: 767600, good_data = 1
mcnt: 775200, good_data = 1
mcnt: 782800, good_data = 1
mcnt: 790400, good_data = 1
mcnt: 798000, good_data = 1
mcnt: 805600, good_data = 1
mcnt: 813200, good_data = 1
mcnt: 820800, good_data = 1
mcnt: 828400, good_data = 1
mcnt: 836000, good_data = 1
mcnt: 843600, good_data = 1
mcnt: 851200, good_data = 1
mcnt: 858800, good_data = 1
mcnt: 866400, good_data = 1
mcnt: 874000, good_data = 1
mcnt: 881600, good_data = 1
mcnt: 889200, good_data = 1
mcnt: 896800, good_data = 1
NET: CLEANUP condition met!
NET: Informing other threads of cleanup condition
61
NET: All other threads have been informed
TRA: Entering CLEANUP state 
COR: Cleanup condition met!
NET: CLEANUP complete; clearing output databuf and returning to IDLE
COR: Finished CLEANUP, clearing output databuf and returning to ACQUIRE
BFBE: Stop data flow for roach flagr2-1
Stop observations
FITS: waiting for thread to join...
BfFitsThread::run exiting with scan_finished=1 run=0
	We wrote 119 lines
	It took an average of 248164.00 µs to complete each loop
	It took an average of 2245.43 µs to write each row to FITS
HPC[22:46:19]:BfFitsIO::close
FITS: thread has joined!
bfFitsWriter exiting cleanly at Tue May 15 18:46:19 2018

FIFO: A STOP was issued to the hashpipe codes!!!!!!!!!!!!!!!!!!
BFBE: Stop data flow for roach flagr2-2
BFBE: Stop data flow for roach flagr2-3
BFBE: Stop data flow for roach flagr2-4
BFBE: Stop data flow for roach flagr2-5
BFBE: Command to fits writer >> /home/groups/flag/dibas/exec/x86_64-linux/bfFitsWriter -i 0 -m c
RUNNING PAF MODE
/tmp/fits_fifo_mruzinda_0
Using FITS Control FIFO: /tmp/fits_fifo_mruzinda_0
bfFitsWrite started
NET: Exiting thread loop...
HASH: Finished run function for flag_net_thread ...
COR: Cleaning gpu context...
TRA: Exiting loop...
HASH: Finished run function for flag_correlator_thread ...
HASH: Finished run function for flag_transpose_thread ...
HASH: Joined thread 'flag_correlator_thread'
HASH: Joined thread 'flag_transpose_thread'
HASH: Joined thread 'flag_net_thread'
